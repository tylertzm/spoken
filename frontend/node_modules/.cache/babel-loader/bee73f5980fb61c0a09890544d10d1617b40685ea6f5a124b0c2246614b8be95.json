{"ast":null,"code":"var _jsxFileName = \"/Users/tyler/Documents/spoken/frontend/src/components/LiveTranscriptionDisplay/LiveTranscriptionDisplay.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LiveTranscriptionDisplay({\n  transcription\n}) {\n  _s();\n  const liveTextRef = useRef(null);\n  useEffect(() => {\n    const adjustFontSize = () => {\n      const textElement = liveTextRef.current;\n      if (!textElement) return;\n      const container = textElement.parentElement;\n      if (!container) return;\n\n      // Reset font size to default first\n      textElement.style.fontSize = '';\n\n      // Get the computed styles\n      const containerHeight = container.clientHeight - 40; // Account for padding\n      const containerWidth = container.clientWidth - 40; // Account for padding\n\n      // Check if text overflows\n      let fontSize = parseFloat(window.getComputedStyle(textElement).fontSize);\n      const maxFontSize = fontSize; // Store original size as max\n\n      // Reduce font size until text fits\n      while ((textElement.scrollHeight > containerHeight || textElement.scrollWidth > containerWidth) && fontSize > 12) {\n        fontSize -= 2;\n        textElement.style.fontSize = `${fontSize}px`;\n      }\n\n      // Don't exceed the maximum font size\n      if (fontSize > maxFontSize) {\n        textElement.style.fontSize = `${maxFontSize}px`;\n      }\n    };\n\n    // Adjust on text change\n    if (transcription) {\n      adjustFontSize();\n    }\n\n    // Adjust on window resize\n    window.addEventListener('resize', adjustFontSize);\n    return () => window.removeEventListener('resize', adjustFontSize);\n  }, [transcription]);\n  useEffect(() => {\n    const textElement = liveTextRef.current;\n    if (!textElement) return;\n\n    // Set data-length attribute for CSS font size control\n    if (!transcription || transcription.length < 40) {\n      textElement.setAttribute('data-length', 'short');\n    } else if (transcription.length < 100) {\n      textElement.setAttribute('data-length', 'medium');\n    } else {\n      textElement.setAttribute('data-length', 'long');\n    }\n  }, [transcription]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"transcription-cell\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transcription-display\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        ref: liveTextRef,\n        className: \"live-text\",\n        children: transcription || 'Waiting for speech...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(LiveTranscriptionDisplay, \"rdtD7L5uxvhfOuIT9C2oykVOhWU=\");\n_c = LiveTranscriptionDisplay;\nexport default LiveTranscriptionDisplay;\nvar _c;\n$RefreshReg$(_c, \"LiveTranscriptionDisplay\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","LiveTranscriptionDisplay","transcription","_s","liveTextRef","adjustFontSize","textElement","current","container","parentElement","style","fontSize","containerHeight","clientHeight","containerWidth","clientWidth","parseFloat","window","getComputedStyle","maxFontSize","scrollHeight","scrollWidth","addEventListener","removeEventListener","length","setAttribute","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/tyler/Documents/spoken/frontend/src/components/LiveTranscriptionDisplay/LiveTranscriptionDisplay.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nfunction LiveTranscriptionDisplay({ transcription }) {\n  const liveTextRef = useRef(null);\n\n  useEffect(() => {\n    const adjustFontSize = () => {\n      const textElement = liveTextRef.current;\n      if (!textElement) return;\n\n      const container = textElement.parentElement;\n      if (!container) return;\n\n      // Reset font size to default first\n      textElement.style.fontSize = '';\n      \n      // Get the computed styles\n      const containerHeight = container.clientHeight - 40; // Account for padding\n      const containerWidth = container.clientWidth - 40; // Account for padding\n      \n      // Check if text overflows\n      let fontSize = parseFloat(window.getComputedStyle(textElement).fontSize);\n      const maxFontSize = fontSize; // Store original size as max\n      \n      // Reduce font size until text fits\n      while ((textElement.scrollHeight > containerHeight || textElement.scrollWidth > containerWidth) && fontSize > 12) {\n        fontSize -= 2;\n        textElement.style.fontSize = `${fontSize}px`;\n      }\n      \n      // Don't exceed the maximum font size\n      if (fontSize > maxFontSize) {\n        textElement.style.fontSize = `${maxFontSize}px`;\n      }\n    };\n\n    // Adjust on text change\n    if (transcription) {\n      adjustFontSize();\n    }\n\n    // Adjust on window resize\n    window.addEventListener('resize', adjustFontSize);\n    return () => window.removeEventListener('resize', adjustFontSize);\n  }, [transcription]);\n\n  useEffect(() => {\n    const textElement = liveTextRef.current;\n    if (!textElement) return;\n\n    // Set data-length attribute for CSS font size control\n    if (!transcription || transcription.length < 40) {\n      textElement.setAttribute('data-length', 'short');\n    } else if (transcription.length < 100) {\n      textElement.setAttribute('data-length', 'medium');\n    } else {\n      textElement.setAttribute('data-length', 'long');\n    }\n  }, [transcription]);\n\n  return (\n    <div className=\"transcription-cell\">\n      <div className=\"transcription-display\">\n        <p ref={liveTextRef} className=\"live-text\">\n          {transcription || 'Waiting for speech...'}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default LiveTranscriptionDisplay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}